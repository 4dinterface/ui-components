{"version":3,"sources":["Component.js"],"names":[],"mappings":"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","file":"Component-compiled.js","sourcesContent":["\"use strict\";\r\n\r\nclass ColorPicker extends AbstractComponent{\r\n\r\n  constructor(options){\r\n    super();\r\n    var elId = options.id;\r\n    this._el = document.getElementById(elId)||options.el;\r\n    this._el.style.position=\"relative\";// TODO �������� ���������\r\n    this._el.className=\"color-picker\";\r\n    if (this._el === null) return;\r\n\r\n    this._widthBorder=8;\r\n    this._width=107;\r\n    this._height=107;\r\n\r\n    this._el.style.width=this._width+\"px\";\r\n    this._el.style.height=this._height+\"px\";\r\n\r\n    this._create();\r\n    this._el.addEventListener(\"mousemove\",this._onMove.bind(this))\r\n    this._el.addEventListener(\"mousedown\",this._setColor.bind(this))\r\n\r\n    this._currentX=51;\r\n    this._currentY=51;\r\n    this._color=\"#00CEFF\";\r\n  }\r\n\r\n  _create(){\r\n    this.canvas=document.createElement('canvas');\r\n    this.canvas.width=this._width;\r\n    this.canvas.height=this._height;\r\n    this.canvas.id=\"picker\";\r\n    this._el.appendChild(this.canvas);\r\n    this.ctx=this.canvas.getContext(\"2d\");\r\n\r\n    this._selector=document.createElement('div');\r\n    this._selector.className=\"selector\";\r\n    this._selector.style.width=5+\"px\";\r\n    this._selector.style.height=5+\"px\";\r\n    this._selector.style.position=\"absolute\";\r\n    this._selector.style.left=60+\"px\";\r\n    this._selector.style.top=60+\"px\";\r\n    this._el.appendChild(this._selector);\r\n\r\n    this._face=document.createElement('div');\r\n    this._face.style.width=\"100%\";\r\n    this._face.style.height=\"100%\";\r\n    this._face.style.position=\"absolute\";\r\n    this._face.style.left=0+\"px\";\r\n    this._face.style.top=0+\"px\";\r\n    this._el.appendChild(this._face);\r\n\r\n    var image = new Image();\r\n    image.onload =()=>this.ctx.drawImage(image, 0, 0, image.width, image.height); // draw the image on the canvas\r\n    image.src=\"components/color-picker/color-wheel.png\";\r\n  }\r\n\r\n  get value(){\r\n    return this._color;\r\n  }\r\n\r\n  _setColor(e){\r\n    var imageData = this.ctx.getImageData(this._currentX, this._currentY, 1, 1),\r\n        pixel = imageData.data,\r\n        red=pixel[0].toString(16),\r\n        green=pixel[1].toString(16),\r\n        blue=pixel[2].toString(16);\r\n\r\n    this._selector.style.left=(this._currentX-2)+this.canvas.offsetLeft+\"px\";\r\n    this._selector.style.top=(this._currentY-2)+this.canvas.offsetTop+\"px\";\r\n\r\n    this._color=\"#\"+(red.length<2?\"0\"+red:red);\r\n    this._color+=green.length<2?\"0\"+green:green;\r\n    this._color+=blue.length<2?\"0\"+blue:blue;\r\n    this.fire(\"change\",{});\r\n\r\n    console.log(this._color);\r\n  }\r\n\r\n  _onMove(e){\r\n    var canvasX = Math.floor(e.offsetX)-this.canvas.offsetLeft,\r\n        canvasY = Math.floor(e.offsetY)-this.canvas.offsetTop,\r\n        imageData = this.ctx.getImageData(canvasX, canvasY, 1, 1);\r\n\r\n    if(imageData.data[3]==0) return;\r\n    this._currentX=canvasX;\r\n    this._currentY=canvasY;\r\n    if(e.buttons==1) this._setColor(e);\r\n  }\r\n\r\n\r\n}"]}