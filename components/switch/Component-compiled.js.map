{"version":3,"sources":["Component.js"],"names":[],"mappings":"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","file":"Component-compiled.js","sourcesContent":["\"use strict\";\r\n\r\nclass Switch extends AbstractComponent{\r\n  constructor(options){\r\n    super();\r\n    var elId = options.id;\r\n    this._el = document.getElementById(elId)||options.el;\r\n    if (this._el === null) return;\r\n    this._create();\r\n\r\n    this._onMove=this._onMove.bind(this);\r\n    this._onUp=this._onUp.bind(this);\r\n    this._onDown=this._onDown.bind(this)\r\n\r\n    this._el.addEventListener(\"mousedown\",this._onDown);\r\n\r\n    this._el.addEventListener(\"touchstart\",this._onDown);\r\n    this._el.addEventListener(\"touchmove\",this._onMove);\r\n    this._el.addEventListener(\"touchend\",this._onUp);\r\n  }\r\n\r\n  _onDown(event){\r\n    var e=event.changedTouches?event.changedTouches[0]:event;\r\n    this.startX=e.clientX;\r\n    this.mouseDownX=e.clientX;\r\n    document.addEventListener(\"mousemove\",this._onMove);\r\n    document.addEventListener(\"mouseup\",this._onUp);\r\n\r\n  }\r\n\r\n  _onUp(event){\r\n    console.log(event);\r\n\r\n    var e=event.changedTouches?event.changedTouches[0]:event;\r\n    this._switchHeader.style.transform=\"translateX(0px)\";\r\n    if(this.mouseDownX == e.clientX) this.switch();\r\n\r\n    document.removeEventListener(\"mousemove\",this._onMove);\r\n    document.removeEventListener(\"mouseup\",this._onUp);\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n  }\r\n\r\n  _onMove(event){\r\n    var e=event.changedTouches?event.changedTouches[0]:event,\r\n        offsetX = e.clientX-this.startX;\r\n\r\n    if(this._input.checked && offsetX>0) offsetX=0;\r\n    if(!this._input.checked && offsetX<0) offsetX=0;\r\n\r\n    this._switchHeader.style.transform=\"translateX(\"+(offsetX)+\"px)\";\r\n\r\n    if(offsetX<-30){\r\n      this.startX=e.clientX;\r\n      this.switch();\r\n    }\r\n\r\n    if(offsetX>30){\r\n      this.startX=e.clientX;\r\n      this.switch();\r\n    }\r\n\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n  }\r\n\r\n  _create(){\r\n    this._el.innerHTML=\r\n      '<input type=\"checkbox\" name=\"switch\" class=\"switch-checkbox\" id=\"'+this._el.id+'_checkbox\" checked> </input>'+\r\n      '<label class=\"switch-label\" for=\"'+this._el.id+'_checkbox_\">'+\r\n       '<span class=\"switch-inner\"></span>'+\r\n       '<span class=\"switch-switch\"></span>'+\r\n      '</label>';\r\n\r\n    this._checkbox=document.getElementById(this._el.id+\"_checkbox\");\r\n    this._switchHeader=this._el.getElementsByClassName('switch-switch')[0];\r\n    this._input=this._el.getElementsByTagName('input')[0];\r\n  }\r\n\r\n  get value(){\r\n    return this._checkbox.checked;\r\n  }\r\n\r\n  set value(value){\r\n    if(value) this._input.setAttribute(\"checked\",\"true\");\r\n    else this._input.removeAttribute(\"checked\");\r\n    this.fire(\"change\",{})\r\n  }\r\n\r\n  switch(){\r\n    this.value=!this._input.checked;\r\n    this._switchHeader.style.transform=\"translateX(0px)\";\r\n  }\r\n\r\n}"]}