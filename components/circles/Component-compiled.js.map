{"version":3,"sources":["Component.js"],"names":[],"mappings":"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","file":"Component-compiled.js","sourcesContent":["\"use strict\";\r\nclass Circles extends AbstractComponent{\r\n  constructor(options){\r\n    super();\r\n    var elId = options.id;\r\n    this._el = document.getElementById(elId);\r\n\r\n    this._el.className=this._el.className+\" circle-input\"\r\n\r\n    if (this._el === null) return;\r\n\r\n    this._radius         = options.radius || 10;\r\n\r\n    this._strokeWidth    = options.width  || 10;\r\n    this._colors         = options.colors || ['rgb(75,75,75)', 'rgb(124,255,226)'];\r\n    this._svg            = null;\r\n    this._movingPath     = null;\r\n    this._wrapContainer  = null;\r\n    this._textContainer  = null;\r\n\r\n    this._wrpClass       = options.wrpClass || 'circles-wrp';\r\n    this._textClass      = options.textClass || 'circles-text';\r\n\r\n    this._valClass       = options.valueStrokeClass || 'circles-valueStroke';\r\n    this._maxValClass    = options.maxValueStrokeClass || 'circles-maxValueStroke';\r\n\r\n    this._styleWrapper   = options.styleWrapper === false ? false : true;\r\n\r\n    var endAngleRad      = Math.PI / 180 * 270;\r\n    this._start          = -Math.PI / 180 * 90;\r\n    this._startPrecise   = this._precise(this._start);\r\n    this._circ           = endAngleRad - this._start;\r\n\r\n    this._create();\r\n    this._maxValue       = options.maxValue || 100;\r\n\r\n    this.value=  options.value;\r\n  }\r\n\r\n  get value(){\r\n    return this._value;\r\n  }\r\n\r\n  set value(value){\r\n    if(this._value==value) return;\r\n    if(this._value>this._maxValue) value=this._maxValue;\r\n    if(this._value<0 || isNaN(value)) value=0;\r\n\r\n    this._value=value;\r\n    this._movingPath.setAttribute('d', this._calculatePath(value, true));\r\n    this._textContainer.value\t= value;\t//this._getText(this.getValueFromPercent(value));\r\n    this.fire(\"change\",{});\r\n  }\r\n\r\n  get maxValue(){\r\n    return this._maxValue;\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @returns {Circles}\r\n   * @private\r\n   */\r\n  _create() {\r\n    this._svgSize        = this._radius * 2;\r\n    this._radiusAdjusted = this._radius - (this._strokeWidth / 2);\r\n\r\n    this._createSvg();\r\n    this._createInput();\r\n    this._createWrapper();\r\n\r\n    this._el.innerHTML = '';\r\n    this._el.appendChild(this._wrapContainer);\r\n  }\r\n\r\n  _createWrapper() {\r\n    this._wrapContainer\t=\tdocument.createElement('div');\r\n    this._wrapContainer.className = this._wrpClass;\r\n\r\n    if (this._styleWrapper) {\r\n      this._wrapContainer.style.position\t=\t'relative';\r\n      this._wrapContainer.style.display\t=\t'inline-block';\r\n    }\r\n\r\n    this._wrapContainer.appendChild(this._svg);\r\n    this._wrapContainer.appendChild(this._textContainer);\r\n\r\n\r\n    return this;\r\n  }\r\n\r\n  wheel(event){\r\n    var delta=0;\r\n    // IE, Opera, safari, chrome - wheelDelta\r\n    // Mozilla, detail\r\n    delta = (event.wheelDelta)?-event.wheelDelta/120:event.detail/3;\r\n\r\n    if(delta>0) this.value++;\r\n    if(delta<0) this.value--;\r\n    event.preventDefault();\r\n  }\r\n\r\n  _createInput() {\r\n    this._textContainer = document.createElement(\"input\");\r\n    this._textContainer.setAttribute(\"type\",\"number\");\r\n    this._textContainer.className = this._textClass;\r\n\r\n    var style\t=\t{\r\n      position:   'absolute',\r\n      top:        0,\r\n      left:       0,\r\n      textAlign:  'center',\r\n      width:      '100%',\r\n      height:     this._svgSize + 'px',\r\n      lineHeight: this._svgSize + 'px',\r\n      background:\"transparent\",\r\n      border:\"none\"\r\n    };\r\n\r\n    this._textContainer.addEventListener(\"keyup\",(e)=>this.value=parseInt(this._textContainer.value));\r\n    this._textContainer.addEventListener(\"change\",(e)=>this.value=parseInt(this._textContainer.value));\r\n    this._textContainer.addEventListener('mousewheel', this.wheel.bind(this));\r\n\r\n    //this._textContainer.addEventListener('click', (e)=>this.value++);\r\n    this._textContainer.addEventListener('mouseup', (e)=>{\r\n        \r\n    });\r\n\r\n    for(var prop in style) {\r\n      this._textContainer.style[prop]\t=\tstyle[prop];\r\n    }\r\n    return this;\r\n  }\r\n\r\n  _createSvg() {\r\n    this._svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\r\n    this._svg.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\r\n    this._svg.setAttribute('width', this._svgSize);\r\n    this._svg.setAttribute('height', this._svgSize);\r\n\r\n    this._createPath(100, false, this._colors[0], this._maxValClass)._createPath(1, true, this._colors[1], this._valClass);\r\n\r\n    this._movingPath = this._svg.getElementsByTagName('path')[1];\r\n\r\n    return this;\r\n  }\r\n\r\n  _createPath(percentage, open, color, pathClass) {\r\n    var path = document.createElementNS('http://www.w3.org/2000/svg', 'path');\r\n    path.setAttribute('fill', 'transparent');\r\n    path.setAttribute('stroke', color);\r\n    path.setAttribute('stroke-width', this._strokeWidth);\r\n    path.setAttribute('d',  this._calculatePath(percentage, open));\r\n    path.setAttribute('class', pathClass);\r\n\r\n    this._svg.appendChild(path);\r\n\r\n    return this;\r\n  }\r\n\r\n  _calculatePath(percentage, open) {\r\n    var end      = this._start + ((percentage / 100) * this._circ),\r\n        endPrecise = this._precise(end);\r\n    return this._arc(endPrecise, open);\r\n  }\r\n\r\n  _arc(end, open) {\r\n    var endAdjusted = end - 0.001,\r\n        longArc       = end - this._startPrecise < Math.PI ? 0 : 1;\r\n\r\n    return [\r\n      'M',\r\n      this._radius + this._radiusAdjusted * Math.cos(this._startPrecise),\r\n      this._radius + this._radiusAdjusted * Math.sin(this._startPrecise),\r\n      'A', // arcTo\r\n      this._radiusAdjusted, // x radius\r\n      this._radiusAdjusted, // y radius\r\n      0, // slanting\r\n      longArc, // long or short arc\r\n      1, // clockwise\r\n      this._radius + this._radiusAdjusted * Math.cos(endAdjusted),\r\n      this._radius + this._radiusAdjusted * Math.sin(endAdjusted),\r\n      open ? '' : 'Z' // close\r\n    ].join(' ');\r\n  }\r\n\r\n  _precise(value) {\r\n    return Math.round(value * 1000) / 1000;\r\n  }\r\n\r\n  /*========================================= Public API =========================================================*/\r\n  getPercent() {\r\n    return (this._value * 100) / this._maxValue;\r\n  }\r\n\r\n  getValueFromPercent(percentage){\r\n    return (this._maxValue * percentage) / 100;\r\n  }\r\n\r\n  static create(options){\r\n    return new Circles(options);\r\n  }\r\n}"]}