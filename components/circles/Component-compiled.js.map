{"version":3,"sources":["Component.js"],"names":[],"mappings":"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","file":"Component-compiled.js","sourcesContent":["﻿\"use strict\";\n\nclass Circles extends AbstractComponent {\n\n  constructor(options) {\n    super();\n    var elId = options.id;\n    this._el = document.getElementById(elId);\n\n    this._el.className = this._el.className + \" circle-input\"\n\n    if (this._el === null) return;\n\n    this._radius = options.radius || 60;\n\n    this._strokeWidth = options.width || 10;\n    this._colors = options.colors || ['rgb(75,75,75)', 'rgb(124,255,226)'];\n    this._svg = null;\n    this._movingPath = null;\n    this._wrapContainer = null;\n    this._input = null;\n\n    this._wrpClass = options.wrpClass || 'circles-wrp';\n    this._inputClass = options.inputClass || 'circles-input';\n\n    this._valClass = options.valueStrokeClass || 'circles-valueStroke';\n    this._maxValClass = options.maxValueStrokeClass || 'circles-maxValueStroke';\n\n    var endAngleRad = Math.PI / 180 * 270;\n    this._start = -Math.PI / 180 * 90;\n    this._startPrecise = this._precise(this._start);\n    this._circ = endAngleRad - this._start;\n\n    this._maxValue = options.maxValue || 100;\n\n    this._onMove = this._onMove.bind(this);\n    this._onUp = this._onUp.bind(this);\n    this._onDown = this._onDown.bind(this);\n    this._create();\n\n    this.value = options.value;\n  }\n\n  /**\n   * создаёт элемент управления\n   * @private\n   */\n  _create() {\n    this._svgSize = this._radius * 2;\n    this._radiusAdjusted = this._radius - (this._strokeWidth / 2);\n\n    this._el.style.width = this._svgSize + \"px\";\n    this._el.style.height = this._svgSize + \"px\";\n\n    this._createSvg();\n    this._createInput();\n    this._createHelper();\n    this._createWrapper();\n\n    this._el.innerHTML = '';\n    this._el.appendChild(this._wrapContainer);\n  }\n\n  /**\n   * создаёт враппер\n   * @returns {Circles}\n   * @private\n   */\n  _createWrapper() {\n    this._wrapContainer = document.createElement('div');\n    this._wrapContainer.className = this._wrpClass;\n\n    this._wrapContainer.style.position = 'relative';\n    this._wrapContainer.style.display = 'inline-block';\n\n    this._wrapContainer.appendChild(this._svg);\n    this._wrapContainer.appendChild(this._input);\n    this._wrapContainer.appendChild(this._helper);\n\n    return this;\n  }\n\n  /**\n   * создаёт input для ввода\n   * @returns {Circles}\n   * @private\n   */\n  _createInput() {\n    this._input = document.createElement(\"input\");\n    this._input.setAttribute(\"type\", \"number\");\n    this._input.className = this._inputClass;\n\n    this._input.addEventListener(\"keydown\", (e) => {\n\n      if (e.keyCode == 38) {\n        this.value++;\n        e.preventDefault();\n      }\n      if (e.keyCode == 40) {\n        this.value--;\n        e.preventDefault();\n      }\n      //this._helper.style.opacity=0;\n    });\n\n    this._input.addEventListener(\"keypress\", (e) => {\n      if (e.keyCode < 47 || e.keyCode > 57) e.preventDefault();\n    });\n\n    this._input.addEventListener(\"keyup\", (e) => {\n      this.value = parseInt(this._input.value);\n    });\n    this._input.addEventListener(\"change\", (e) => this.value = parseInt(this._input.value));\n\n    this._input.addEventListener('mousewheel', this.wheel.bind(this));\n    this._input.addEventListener('DOMMouseScroll', this.wheel.bind(this));\n\n    this._input.addEventListener('click', (e) => this.value++);\n\n    this._input.addEventListener('touchmove', this._onMove.bind(this));\n    this._input.addEventListener('mousedown', this._onDown);\n\n    return this;\n  }\n\n  /**\n   * проценты\n   * @private\n   */\n  _createHelper() {\n    this._helper = document.createElement(\"div\");\n    this._helper.style.position = \"absolute\";\n    this._helper.className = \"helper\";\n    this._helper.innerHTML = \"%\";\n  }\n\n  /**\n   * создаёт svg элемент\n   * @returns {Circles}\n   * @private\n   */\n  _createSvg() {\n    this._svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    this._svg.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\n    this._svg.setAttribute('width', this._svgSize);\n    this._svg.setAttribute('height', this._svgSize);\n\n    this._createPath(100, false, this._colors[0], this._maxValClass);\n    this._createPath(1, true, this._colors[1], this._valClass);\n\n    this._movingPath = this._svg.getElementsByTagName('path')[1];\n    return this;\n  }\n\n  /**\n   * строит путь\n   * @param percentage\n   * @param open\n   * @param color\n   * @param pathClass\n   * @returns {Circles}\n   * @private\n   */\n  _createPath(percentage, open, color, pathClass) {\n    var path = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    path.setAttribute('fill', 'transparent');\n    path.setAttribute('stroke', color);\n    path.setAttribute('stroke-width', this._strokeWidth);\n    path.setAttribute('d', this._calculatePath(percentage, open));\n    path.setAttribute('class', pathClass);\n\n    this._svg.appendChild(path);\n    return this;\n  };\n\n  /**\n   * обработчик события колёсика мышки\n   * @param event\n   */\n  wheel(event) {\n    var delta = 0;\n    delta = (event.wheelDelta) ? -event.wheelDelta / 120 : event.detail / 3;\n\n    if (delta > 0) this.value = this.value + 1;\n    if (delta < 0) this.value = this.value - 1;\n\n    if (this._timeout) this._timeout = clearTimeout(this._timeout);\n    if (Math.abs(delta) > 0.3) this._inertion(delta, 100 / delta);\n    event.preventDefault();\n  }\n\n  /**\n   * изменение по инерции\n   * @param delta\n   * @param time\n   * @private\n   */\n  _inertion(delta, time) {\n    if (delta > 0) this.value = this.value + 1;\n    if (delta < 0) this.value = this.value - 1;\n    time = time + 10;\n    if (time < 200) this._timeout = setTimeout(this._inertion.bind(this, delta, time), time)\n  }\n\n  /**\n   * обработчик нажатия кнопки мыши\n   * @param event\n   * @private\n   */\n  _onDown(event) {\n    document.addEventListener('mousemove', this._onMove);\n    document.addEventListener('mouseup', this._onUp);\n  }\n\n  /**\n   * обработчик отпускания кнопки мыши\n   * @private\n   */\n  _onUp() {\n    document.removeEventListener('mousemove', this._onMove);\n    document.removeEventListener('mouseup', this._onUp);\n  }\n\n  /**\n   * обработчик перемещения\n   * @param event\n   * @private\n   */\n  _onMove(event) {\n    var e = event.changedTouches ? event.changedTouches[0] : event,\n        boundRect = this._el.getBoundingClientRect(),\n        centerX = boundRect.left + boundRect.width / 2,\n        centerY = boundRect.top + boundRect.height / 2,\n        x = e.clientX - centerX,\n        y = e.clientY - centerY,\n        rad = Math.atan2(x, y);\n\n    if (rad > this._rad && rad < 3.14) {\n      this.value--;\n    } else {\n      this.value++;\n    }\n    this._rad = rad\n  }\n  \n  /**\n   * вычисляем\n   * @param percentage\n   * @param open\n   * @returns {*}\n   * @private\n   */\n  _calculatePath(percentage, open) {\n    var end = this._start + ((percentage / 100) * this._circ),\n        endPrecise = this._precise(end);\n    return this._arc(endPrecise, open);\n  }\n\n  /**\n   * дуга\n   * @param end\n   * @param open\n   * @returns {string}\n   * @private\n   */\n  _arc(end, open) {\n    var endAdjusted = end - 0.001,\n        longArc = end - this._startPrecise < Math.PI ? 0 : 1;\n\n    return [\n      'M',\n      this._radius + this._radiusAdjusted * Math.cos(this._startPrecise),\n      this._radius + this._radiusAdjusted * Math.sin(this._startPrecise),\n      'A', // arcTo\n      this._radiusAdjusted, // x radius\n      this._radiusAdjusted, // y radius\n      0, // slanting\n      longArc, // long or short arc\n      1, // clockwise\n      this._radius + this._radiusAdjusted * Math.cos(endAdjusted),\n      this._radius + this._radiusAdjusted * Math.sin(endAdjusted),\n      open ? '' : 'Z' // close\n    ].join(' ');\n  }\n\n  /**\n   * избавимся от лишних знаков\n   * @param value\n   * @returns {number}\n   * @private\n   */\n  _precise(value) {\n    return Math.round(value * 1000) / 1000;\n  }\n\n  /*========================================= Public API =========================================================*/\n\n  /**\n   * установит значение\n   * @param val\n   */\n  set value (val) {\n    // this._helper.style.opacity=1;\n    if (this._value == val) return;\n    if (val > this._maxValue) val = this._maxValue;\n    if (val < 0 || isNaN(val)) val = 0;\n\n    this._value = val;\n    this._movingPath.setAttribute('d', this._calculatePath(val, true));\n    this._input.value = val; //this._getText(this.getValueFromPercent(val));\n\n    var width = this._input.value.toString().length * 10,\n        start = 50;\n\n    this._input.style.paddingLeft = (start - width) + \"px\";\n    this._helper.style.left = (start + 6 + width) + \"px\";\n\n    this.fire(\"change\", {});\n  }\n\n  /**\n   * вернёт текущее значение\n   */\n  get value() {\n    return this._value;\n  }\n\n  /**\n   * вернёт максимальное значение\n   * @returns {*|number}\n   */\n  get maxValue() {\n    return this._maxValue;\n  }\n\n  /**\n   * фабрика для создания экземпляров\n   * @param options\n   */\n  static create(options) {\n    return new Circles(options);\n  }\n\n}"]}