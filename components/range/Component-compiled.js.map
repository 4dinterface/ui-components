{"version":3,"sources":["Component.js"],"names":[],"mappings":"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","file":"Component-compiled.js","sourcesContent":["\"use strict\";\r\n\r\nclass Range extends AbstractComponent{\r\n\r\n  constructor(options){\r\n    super();\r\n    var elId = options.id;\r\n    this._el = document.getElementById(elId)||options.el;\r\n    this._el.style.position=\"relative\";// TODO �������� ���������\r\n    if (this._el === null) return;\r\n    this._el.className=this._el.className?+\" \":\"\"+\"range-component\"\r\n\r\n    this._onMouseMove=this._onMouseMove.bind(this);\r\n    this._onMouseUp=this._onMouseUp.bind(this);\r\n    this._onMouseDown=this._onMouseDown.bind(this);\r\n\r\n    this._el.addEventListener(\"touchmove\",this._onMouseMove);\r\n    //document.removeEventListener(\"mouseup\",this._onMouseUp);\r\n\r\n    this._headerWidth=20;\r\n    this._create();\r\n    this._value=0;\r\n  }\r\n\r\n  _create(){\r\n    this._zone=document.createElement('div');\r\n    this._zone.className=\"zone\"\r\n    this._el.appendChild(this._zone);\r\n\r\n    this._header=document.createElement('div');\r\n    this._header.className=\"header\"\r\n    this._el.appendChild(this._header);\r\n\r\n    this._pointHeader=document.createElement('div');\r\n    this._pointHeader.className=\"point-header\"\r\n    this._header.appendChild(this._pointHeader);\r\n\r\n    this._header.addEventListener(\"mousedown\",this._onMouseDown);\r\n  }\r\n\r\n  get value(){\r\n    return Math.round(this._value);\r\n  }\r\n\r\n  set value(value){\r\n    this._value=value;\r\n    this.fire(\"change\",{});\r\n  }\r\n\r\n  _onMouseDown(){\r\n    document.addEventListener(\"mousemove\",this._onMouseMove);\r\n    document.addEventListener(\"mouseup\",this._onMouseUp);\r\n  }\r\n\r\n  _onMouseMove(event){\r\n    var e=event.changedTouches?event.changedTouches[0]:event,\r\n        boundRect=this._el.getBoundingClientRect(),\r\n        pos=e.pageX-boundRect.left-10;\r\n\r\n    if(pos>this._el.offsetWidth-this._headerWidth) pos=this._el.offsetWidth-this._headerWidth;\r\n    if(pos<0) pos=0;\r\n    this.update(pos);//TODO ��������� � value\r\n\r\n    this.value=100/(this._el.offsetWidth-this._header.offsetWidth) * pos;\r\n\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n  }\r\n\r\n  _onMouseUp(e){\r\n    document.removeEventListener(\"mousemove\",this._onMouseMove);\r\n    document.removeEventListener(\"mouseup\",this._onMouseUp);\r\n  }\r\n\r\n  update(pos){\r\n    this._header.style.marginLeft=(pos)+\"px\";\r\n    this._zone.style.left=(pos+10)+\"px\";\r\n  }\r\n\r\n}"]}