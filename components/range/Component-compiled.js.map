{"version":3,"sources":["Component.js"],"names":[],"mappings":"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","file":"Component-compiled.js","sourcesContent":["\"use strict\";\n\nclass Range extends AbstractComponent {\n  /**\n   *\n   * @param options\n   */\n  constructor(options) {\n    super();\n    var elId = options.id;\n    this._el = document.getElementById(elId) || options.el;\n    this._el.style.position = \"relative\"; // TODO заменить враппером\n    if (this._el === null) return;\n    this._el.className = this._el.className ? +\" \" : \"\" + \"range-component\"\n\n    this._onMouseMove = this._onMouseMove.bind(this);\n    this._onMouseUp = this._onMouseUp.bind(this);\n    this._onMouseDown = this._onMouseDown.bind(this);\n\n    this._el.addEventListener(\"touchmove\", this._onMouseMove);\n\n\n    this._headerWidth = 20;\n    this._create();\n    this._value = 0;\n  }\n\n  /**\n   *\n   * @private\n   */\n  _create() {\n    this._zone = document.createElement('div');\n    this._zone.className = \"zone\"\n    this._el.appendChild(this._zone);\n\n    this._header = document.createElement('div');\n    this._header.className = \"header\"\n    this._el.appendChild(this._header);\n\n    this._pointHeader = document.createElement('div');\n    this._pointHeader.className = \"point-header\"\n    this._header.appendChild(this._pointHeader);\n\n    this._header.addEventListener(\"mousedown\", this._onMouseDown);\n  }\n\n  /**\n   *\n   * @returns {number}\n   */\n  get value() {\n    return Math.round(this._value);\n  }\n\n  /**\n   *\n   * @param value {*}\n   */\n  set value(value) {\n    this._value = value;\n    this.fire(\"change\", {});\n  }\n\n  /**\n   *\n   * @private\n   */\n  _onMouseDown() {\n    document.addEventListener(\"mousemove\", this._onMouseMove);\n    document.addEventListener(\"mouseup\", this._onMouseUp);\n  }\n\n  /**\n   *\n   * @param event\n   * @private\n   */\n  _onMouseMove(event) {\n    var e = event.changedTouches ? event.changedTouches[0] : event,\n        boundRect = this._el.getBoundingClientRect(),\n        pos = e.pageX - boundRect.left - 10;\n\n    if (pos > this._el.offsetWidth - this._headerWidth) pos = this._el.offsetWidth - this._headerWidth;\n    if (pos < 0) pos = 0;\n    this._update(pos); //TODO перенести в value\n\n    this.value = 100 / (this._el.offsetWidth - this._header.offsetWidth) * pos;\n\n    event.preventDefault();\n    event.stopPropagation();\n  }\n\n  /**\n   *\n   * @param e\n   * @private\n   */\n  _onMouseUp(e) {\n    document.removeEventListener(\"mousemove\", this._onMouseMove);\n    document.removeEventListener(\"mouseup\", this._onMouseUp);\n  }\n\n  /**\n   *\n   * @param pos\n   * @private\n   */\n  _update(pos) {\n    this._header.style.marginLeft = (pos) + \"px\";\n    this._zone.style.left = (pos + 10) + \"px\";\n  }\n\n}"]}